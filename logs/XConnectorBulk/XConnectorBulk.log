2023-08-21 14:33:05,156 INFO o.s.b.StartupInfoLogger [Test worker] Starting BulkPaymentsApplicationTests using Java 17.0.6 with PID 7836 (started by veselin.zinkov in C:\develop\BulkPayments)
2023-08-21 14:33:05,172 DEBUG o.s.b.StartupInfoLogger [Test worker] Running with Spring Boot v3.1.1, Spring v6.0.10
2023-08-21 14:33:05,175 INFO o.s.b.SpringApplication [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-08-21 14:33:09,769 INFO c.s.b.u.Properties [Test worker] Getting properties from the database
2023-08-21 14:33:10,145 INFO c.s.b.u.Properties [Test worker] Borica url: http://localhost:8082/certservice/api/borica
2023-08-21 14:33:10,155 INFO c.s.b.u.Properties [Test worker] Borica BIC: BIC
2023-08-21 14:33:10,162 INFO c.s.b.u.Properties [Test worker] Account validation service url: 10.21.139.11:7203
2023-08-21 14:33:10,167 INFO c.s.b.u.Properties [Test worker] Account validation service branch: CHO
2023-08-21 14:33:10,177 INFO c.s.b.u.Properties [Test worker] Account validation service userId: INSTANTU
2023-08-21 14:33:10,183 INFO c.s.b.u.Properties [Test worker] Account validation service entity: ENTITY_ID1
2023-08-21 14:33:10,189 INFO c.s.b.u.Properties [Test worker] Borica rtp channel (BIC) of institution: BIC
2023-08-21 14:33:10,196 INFO c.s.b.u.Properties [Test worker] Borica rtp version: 1
2023-08-21 14:33:10,202 INFO c.s.b.u.Properties [Test worker] Flex cube service url: http://localhost:8082/IL
2023-08-21 14:33:10,207 INFO c.s.b.u.Properties [Test worker] Flex cube bizMsgIdr url: 10n
2023-08-21 14:33:10,214 INFO c.s.b.u.Properties [Test worker] JKS borica keystore file path: ./ip_certs/ks.jks
2023-08-21 14:33:10,220 INFO c.s.b.u.Properties [Test worker] JKS borica password: 1234
2023-08-21 14:33:10,225 INFO c.s.b.u.Properties [Test worker] JKS borica alias: borica_pubkey
2023-08-21 14:33:10,232 INFO c.s.b.u.Properties [Test worker] JKS borica key password: 1234
2023-08-21 14:33:10,237 INFO c.s.b.u.Properties [Test worker] JKS sbc keystore file path: ./ip_certs/ks.jks
2023-08-21 14:33:10,243 INFO c.s.b.u.Properties [Test worker] JKS sbc password: 1234
2023-08-21 14:33:10,249 INFO c.s.b.u.Properties [Test worker] JKS sbc alias: sbc
2023-08-21 14:33:10,256 INFO c.s.b.u.Properties [Test worker] JKS sbc key password: 1234
2023-08-21 14:33:10,261 INFO c.s.b.u.Properties [Test worker] Outgoing bulk messages directory path: C:\\Users\\veselin.zinkov\\OneDrive - Sirma Business Consulting\\Desktop\\outgoing_messages\\messages
2023-08-21 14:33:10,270 INFO c.s.b.u.Properties [Test worker] Outgoing bulk messages in progress directory path: C:\\Users\\veselin.zinkov\\OneDrive - Sirma Business Consulting\\Desktop\\outgoing_messages\\in_progress
2023-08-21 14:33:10,276 INFO c.s.b.u.Properties [Test worker] Outgoing processed bulk messages directory path: C:\\Users\\veselin.zinkov\\OneDrive - Sirma Business Consulting\\Desktop\\outgoing_messages\\processed
2023-08-21 14:33:10,281 INFO c.s.b.u.Properties [Test worker] Incoming bulk messages directory path: C:\\Users\\veselin.zinkov\\OneDrive - Sirma Business Consulting\\Desktop\\incoming_messages
2023-08-21 14:33:11,284 INFO c.s.b.c.BorikaClientScheduler [scheduling-1] getMessage() execution started
2023-08-21 14:33:11,289 INFO o.s.b.StartupInfoLogger [Test worker] Started BulkPaymentsApplicationTests in 6.385 seconds (process running for 8.184)
2023-08-21 14:33:12,941 INFO c.s.b.m.MessageWrapper [Test worker] Saving message to an xml file
2023-08-21 14:33:16,587 ERROR c.s.b.c.BorikaClientScheduler [scheduling-1] getMessage() error: HTTP connect timed out
java.net.http.HttpConnectTimeoutException: HTTP connect timed out
	at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:567)
	at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)
	at com.sirmabc.bulkpayments.communicators.BorikaClientScheduler.getMessage(BorikaClientScheduler.java:44)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.http.HttpConnectTimeoutException: HTTP connect timed out
	at java.net.http/jdk.internal.net.http.MultiExchange.toTimeoutException(MultiExchange.java:580)
	at java.net.http/jdk.internal.net.http.MultiExchange.getExceptionalCF(MultiExchange.java:527)
	at java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$7(MultiExchange.java:447)
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2162)
	at java.net.http/jdk.internal.net.http.Http1Exchange.lambda$cancelImpl$9(Http1Exchange.java:483)
	... 3 common frames omitted
Caused by: java.net.ConnectException: HTTP connect timed out
	at java.net.http/jdk.internal.net.http.MultiExchange.toTimeoutException(MultiExchange.java:581)
	... 10 common frames omitted
2023-08-21 14:33:16,589 INFO c.s.b.c.BorikaClientScheduler [scheduling-1] sendMessage() execution started
2023-08-21 16:18:49,698 INFO o.s.b.StartupInfoLogger [Test worker] Starting BulkPaymentsApplicationTests using Java 17.0.6 with PID 9268 (started by veselin.zinkov in C:\develop\BulkPayments)
2023-08-21 16:18:49,700 DEBUG o.s.b.StartupInfoLogger [Test worker] Running with Spring Boot v3.1.1, Spring v6.0.10
2023-08-21 16:18:49,701 INFO o.s.b.SpringApplication [Test worker] No active profile set, falling back to 1 default profile: "default"
2023-08-21 16:18:52,964 INFO c.s.b.u.Properties [Test worker] Getting properties from the database
2023-08-21 16:18:53,201 INFO c.s.b.u.Properties [Test worker] Borica url: http://localhost:8082/certservice/api/borica
2023-08-21 16:18:53,215 INFO c.s.b.u.Properties [Test worker] Borica BIC: BIC
2023-08-21 16:18:53,225 INFO c.s.b.u.Properties [Test worker] Account validation service url: 10.21.139.11:7203
2023-08-21 16:18:53,239 INFO c.s.b.u.Properties [Test worker] Account validation service branch: CHO
2023-08-21 16:18:53,246 INFO c.s.b.u.Properties [Test worker] Account validation service userId: INSTANTU
2023-08-21 16:18:53,251 INFO c.s.b.u.Properties [Test worker] Account validation service entity: ENTITY_ID1
2023-08-21 16:18:53,256 INFO c.s.b.u.Properties [Test worker] Borica rtp channel (BIC) of institution: BIC
2023-08-21 16:18:53,260 INFO c.s.b.u.Properties [Test worker] Borica rtp version: 1
2023-08-21 16:18:53,265 INFO c.s.b.u.Properties [Test worker] Flex cube service url: http://localhost:8082/IL
2023-08-21 16:18:53,270 INFO c.s.b.u.Properties [Test worker] Flex cube bizMsgIdr url: 10n
2023-08-21 16:18:53,275 INFO c.s.b.u.Properties [Test worker] JKS borica keystore file path: ./ip_certs/ks.jks
2023-08-21 16:18:53,280 INFO c.s.b.u.Properties [Test worker] JKS borica password: 1234
2023-08-21 16:18:53,285 INFO c.s.b.u.Properties [Test worker] JKS borica alias: borica_pubkey
2023-08-21 16:18:53,289 INFO c.s.b.u.Properties [Test worker] JKS borica key password: 1234
2023-08-21 16:18:53,299 INFO c.s.b.u.Properties [Test worker] JKS sbc keystore file path: ./ip_certs/ks.jks
2023-08-21 16:18:53,304 INFO c.s.b.u.Properties [Test worker] JKS sbc password: 1234
2023-08-21 16:18:53,309 INFO c.s.b.u.Properties [Test worker] JKS sbc alias: sbc
2023-08-21 16:18:53,314 INFO c.s.b.u.Properties [Test worker] JKS sbc key password: 1234
2023-08-21 16:18:53,324 INFO c.s.b.u.Properties [Test worker] Outgoing bulk messages directory path: C:\\Users\\veselin.zinkov\\OneDrive - Sirma Business Consulting\\Desktop\\outgoing_messages\\messages
2023-08-21 16:18:53,328 INFO c.s.b.u.Properties [Test worker] Outgoing bulk messages in progress directory path: C:\\Users\\veselin.zinkov\\OneDrive - Sirma Business Consulting\\Desktop\\outgoing_messages\\in_progress
2023-08-21 16:18:53,333 INFO c.s.b.u.Properties [Test worker] Outgoing processed bulk messages directory path: C:\\Users\\veselin.zinkov\\OneDrive - Sirma Business Consulting\\Desktop\\outgoing_messages\\processed
2023-08-21 16:18:53,338 INFO c.s.b.u.Properties [Test worker] Incoming bulk messages directory path: C:\\Users\\veselin.zinkov\\OneDrive - Sirma Business Consulting\\Desktop\\incoming_messages
2023-08-21 16:18:53,991 INFO c.s.b.c.BorikaClientScheduler [scheduling-1] getMessage() execution started
2023-08-21 16:18:53,994 INFO o.s.b.StartupInfoLogger [Test worker] Started BulkPaymentsApplicationTests in 4.475 seconds (process running for 5.604)
2023-08-21 16:18:54,192 ERROR c.s.b.c.BorikaClientScheduler [scheduling-1] getMessage() error: null
java.net.ConnectException: null
	at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:573)
	at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)
	at com.sirmabc.bulkpayments.communicators.BorikaClientScheduler.getMessage(BorikaClientScheduler.java:44)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: null
	at java.net.http/jdk.internal.net.http.common.Utils.toConnectException(Utils.java:1047)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:198)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.checkRetryConnect(PlainHttpConnection.java:230)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$1(PlainHttpConnection.java:206)
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934)
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1773)
	... 3 common frames omitted
Caused by: java.nio.channels.ClosedChannelException: null
	at java.base/sun.nio.ch.SocketChannelImpl.ensureOpen(SocketChannelImpl.java:195)
	at java.base/sun.nio.ch.SocketChannelImpl.beginConnect(SocketChannelImpl.java:760)
	at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:848)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.lambda$connectAsync$0(PlainHttpConnection.java:183)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)
	at java.net.http/jdk.internal.net.http.PlainHttpConnection.connectAsync(PlainHttpConnection.java:185)
	... 9 common frames omitted
2023-08-21 16:18:54,195 INFO c.s.b.c.BorikaClientScheduler [scheduling-1] sendMessage() execution started
2023-08-21 16:18:55,153 INFO c.s.b.m.MessageWrapper [Test worker] Saving message to an xml file
